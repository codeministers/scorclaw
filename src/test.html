<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>ScroClaw</title>
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
</head>

<body>
	<div>
		<label>Server port:</label>
		<input id="port" value="8080"></input>
	</div>
	<br/>
	<table border="3">
		<tr>
			<td></td>
			<td><button id="less_x">^</button></td>
			<td></td>
			<td></td>
		</tr>
		<tr>
			<td></td>
			<td></td>
			<td></td>
			<td><button id="catch">Catch</button></td>
		</tr>
		<tr>
			<td><button id="less_y"><</button></td>
			<td></td>
			<td><button id="more_y">></button></td>
			<td></td>
		</tr>
		<tr>
			<td></td>
			<td></td>
			<td></td>
			<td><button id="home">Home</button></td>
		</tr>
		<tr>
			<td></td>
			<td><button id="more_x">`</button></td>
			<td></td>
			<td></td>
		</tr>
	</table>
	<script>
		$(":button").click(function() {
			scorclawRequest(this.id);
		});
		
		function scorclawRequest(path) {
			if(path == "catch") {
				$(":button").attr("disabled", true);
			}
			
			var request = $.ajax({
				url: "http://localhost:" + $("#port").val() + "/" + path,
				type: "GET",
				dataType: "json"
			});
	
			request.done(function(dev) {
				console.log(dev.response);
			});
	
			request.fail(function(jqXHR, textStatus) {
				alert("Fail in the request: " + textStatus);
			});
			
			if(path == "catch") {
				setTimeout(function() {
					$(":button").attr("disabled", false);
				}, 10000);
			}
			
			if(path == "home") {
				setTimeout(function() {
					$(":button").attr("disabled", false);
				}, 3000);
			}
		}
	</script>
</body>

</html>